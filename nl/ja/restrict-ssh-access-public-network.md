---
copyright:
  years: 2014, 2018
lastupdated: "2018-02-23"
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# パブリック・ネットワークでの SSH アクセスの制限

SSH によるアクセスは、ユーザーがインターネット接続でデバイスに安全にアクセスできるようにするものです。 SSH は、パブリック・ネットワークとプライベート・ネットワークの両方で {{site.data.keyword.cloud}} デバイス上で使用可能です。 ただし、固有のビジネス・ニーズに必要でない限り、パブリック・ネットワークでの SSH によるアクセスは制限すべきです。 パブリック・ネットワークでの SSH アクセスを制限しても、ユーザーはプライベート・ネットワークでデバイスにアクセスできますが、不明のユーザーがパブリック・ネットワーク上でデバイスにアクセスするリスクが軽減されます。 パブリック・ネットワークでの SSH によるアクセスが必要な場合は、SSH を追加のセキュリティー層のカスタム・ポート番号に転送できます。
{:shortdesc}

パブリック・ネットワークでの SSH アクセスを制限するには、以下のステップを実行します。
1. [VPN ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](http://www.softlayer.com/vpn-access){: new_window} で**プライベート・ネットワーク**にアクセスします。
2. SSH 経由でベア・メタル・サーバーの**プライベート IP アドレス**にログインします。
3. 以下のコマンドを実行して `sshd_config` ファイルを編集のために開きます。
  > `vi /etc/ssh/sshd_config`
4. 1 つの `ListenAddress` 行から**ハッシュ (#)**を削除して、その行をアンコメントします。
5. アンコメントした `ListenAddress` 行に、ベア・メタル・サーバーの**プライベート IP アドレス**を入力します。
6. `:wq` コマンドを実行して変更を保存し、ファイルを終了します。
7. 以下のようにして sshd サービスを再始動します。
  > `service sshd restart`
8. ベア・メタル・サーバーのパブリック IP アドレスで SSH へのアクセスを試行して、SSH によるアクセスについての更新をテストします。<br><br><table border="1"><tr><th>接続の状態</th><th>手順</th></tr><tr><td>接続できない</td><td>SSH によるアクセスについての変更は正常に行われました。 これ以上のアクションは不要です。</td></tr><tr><td>接続できる</td><td>SSH によるアクセスについての変更は正常に行われませんでした。 上記ステップを繰り返して、SSH の制限を再試行してください。問題が続く場合は、サポートにお問い合わせください。</td></tr></table>

## 次のステップ

SSH アクセスの制限が正常に行われた後、ユーザーは、プライベート・ネットワークで接続していないときに SSH 経由でデバイスにアクセスすることはできません。 このアクションは、アンコメントした行にハッシュ (#) を追加し直す (つまり、その行をコメントに戻す) ことにより、いつでも元に戻すことができます。
