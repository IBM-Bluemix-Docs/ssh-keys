---
copyright:
  years: 2014, 2018
lastupdated: "2018-02-23"
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 사용자에 SSH 액세스 권한 부여 

다음 단계에 따라 한 명 이상의 사용자에게 SSH 액세스 권한을 부여하십시오. 다음 단계는 이 파일의 구성 방법을 보여줍니다.

1. 다음 OpenSSH 파일을 찾으십시오.
```
/etc/ssh/sshd_config
```
  
2. 필요한 경우 되돌릴 수 있도록 이 파일의 백업을 작성하십시오. 예를 들어, 다음과 같습니다.
```
cp /etc/ssh/sshd_config{,.'date +%s'}
```
  
3. OpenSSH 키워드를 사용하여 파일을 편집하십시오.


## OpenSSH 키워드

### AllowGroups 

이 키워드 다음에 그룹 이름 패턴 목록을 포함하십시오. 공백으로 패턴을 구분하십시오. **로그인**을 지정하면 기본 그룹 또는 보조 그룹 목록이 패턴 중 하나와 일치하는 사용자에만 허용됩니다. 패턴에서는 `"*" 및 "?"`를 와일드카드로 사용할 수 있습니다. 그룹 이름만 유효하고 숫자 그룹 ID는 인식되지 않습니다. 기본적으로 **로그인**은 모든 그룹에 허용됩니다.

### AllowUsers 

이 키워드 다음에 사용자 이름 패턴의 목록을 포함하십시오. 공백으로 패턴을 구분하십시오. **로그인**을 지정하면 패턴 중 하나와 일치하는 사용자 이름에만 허용됩니다. 패턴에서는 `"*" 및 "?"`를 와일드카드로 사용할 수 있습니다. 사용자 이름만 유효하고 숫자 사용자 ID는 인식되지 않습니다. 기본적으로 **로그인**은 모든 사용자에게 허용됩니다. 패턴이 USER@HOST 양식을 사용하는 경우 USER 및 HOST는 개별적으로 선택되며 특정 호스트의 특정 사용자로 로그인이 제한됩니다.

### DenyGroups 

이 키워드 다음에 그룹 이름 패턴 목록을 포함하십시오. 공백으로 패턴을 구분하십시오. **로그인**을 지정하면 기본 그룹 또는 보조 그룹 목록이 패턴 중 하나와 일치하는 사용자에게 허용되지 않습니다. 패턴에서는 `"*" 및 "?"`를 와일드카드로 사용할 수 있습니다. 그룹 이름만 유효하고 숫자 그룹 ID는 인식되지 않습니다. 기본적으로 **로그인**은 모든 그룹에 허용됩니다.

### DenyUsers 

이 키워드 다음에 사용자 이름 패턴의 목록을 포함하십시오. 공백으로 패턴을 구분하십시오. **로그인**을 지정하면 패턴 중 하나와 일치하는 사용자 이름에 허용되지 않습니다. 패턴에서는 `"*" 및 "?"`를 와일드카드로 사용할 수 있습니다. 사용자 이름만 유효하고 숫자 사용자 ID는 인식되지 않습니다. 기본적으로 **로그인**은 모든 사용자에게 허용됩니다.  패턴이 USER@HOST 양식을 사용하는 경우 USER 및 HOST는 개별적으로 선택되며 특정 호스트의 특정 사용자로 로그인이 제한됩니다.

## 예제

다음 예제에서 두 특정 사용자만(`admin` 및 `user1`) 서버에 로그인할 수 있습니다.
**참고:** `DenyGroups` 및 `DenyUsers` 키워드를 사용하여 그룹을 거부하기 위해 유사한 방법을 사용할 수 있습니다.
```
AllowUsers admin user1
```

향후 사용자 증가에 대비하여 서버에 로그인할 수 있는 그룹을 서버에서 작성할 수 있습니다. 필요에 따라 개별 사용자를 추가할 수 있습니다(*`username`*을 실제 사용자로 대체).

1. 쉘에서 sshusers와 같은 사용자 그룹을 추가하십시오.
```
groupadd –r sshusers
```

2. 쉘에서 그룹에 사용자를 추가하십시오.
```
usermod –a –G sshusers admin
```
```
usermod -a -G sshusers user1
```

3. sshd_config 파일에서 sshusers 그룹에 액세스 권한을 제공하십시오.
```
AllowGroups sshusers
```

4. sshd가 중단 없이 새 구성을 읽어오는지 확인하십시오.
```
/usr/sbin/sshd –t
```

```
echo $?
```

  `echo $?` 명령 다음에 `0`이 오면 새 구성이 제대로 된 것입니다.

  또한 다음 예제와 유사한 오류 메시지가 나타날 수 있습니다.
```
sshd_config: line 112: Bad configuration option: allowuser
```

```
sshd_config: terminating, 1 bad configuration options
```

5. 모든 오류를 수정하고 구성이 올바르면 sshd를 다시 시작하십시오. 다음은 sysv 호환 시스템의 명령 예제입니다.
  /etc/init.d/sshd restart

기존 세션의 연결을 끊지 않고 새 SSH 세션을 작성해야 합니다. 추가한 사용자로 조치를 수행할 수 있는지 확인하십시오.
